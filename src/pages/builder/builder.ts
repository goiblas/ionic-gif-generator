import { Component, ElementRef } from '@angular/core';
import { NavController, NavParams, Platform } from 'ionic-angular';
import { FiltersProvider } from './../../providers/filters/filters';
import { SocialSharing } from '@ionic-native/social-sharing';

import { StorageProvider } from "../../providers/storage/storage";
import { GifGeneratorProvider } from "../../providers/gif-generator/gif-generator";

@Component({
  selector: 'page-builder',
  templateUrl: 'builder.html',
})
export class BuilderPage {

  //dom element
  canvas: any;
  video: any;

  isCordova: boolean = false;
  videoUrl: any = '';
  intervalVideo: any;
  blobScreenShotVideo: any;

  //filters
  availableFilters: string[] = ['normal', 'invert', 'invert2', 'clarendonEffect', 'random'];

  //canvas principal
  canvasOptions: any;


  constructor(
    public navCtrl: NavController,
    public navParams: NavParams,
    private element: ElementRef,
    private filters: FiltersProvider,
    private socialSharing: SocialSharing,
    private storage: StorageProvider,
    private gifGenerator: GifGeneratorProvider,
    private platform: Platform) {

    this.canvasOptions = {
      canvas: '',
      filter: this.availableFilters[0],
      text: '',
      size: 300
    }
  }

  ionViewDidLoad() {
    this.isCordova = this.platform.is('cordova');
    this.canvas = this.element.nativeElement.querySelector('#c-main');
    this.canvasOptions.canvas = this.canvas.getContext('2d');
    this.drawVideoOnCanvas();
    this.generatorButtonsFilters();
  }

  drawVideoOnCanvas() {
    this.video = this.element.nativeElement.querySelector('video');
    this.videoUrl = this.navParams.get('video');
    this.video.autoplay = true;
    this.intervalVideo = setInterval(() => this.generatorCanvas(), 50);
  }

  generatorCanvas() {
    this.canvasOptions.canvas.drawImage(this.video, 0, 0, 300, 300);
    this.filters[this.canvasOptions.filter](this.canvasOptions.canvas, this.canvasOptions.size);
    if (this.canvasOptions.text) {
      this.updateText();
    }
  }

  generatorButtonsFilters() {
    this.availableFilters.forEach(filter => {
      let canvasName = this.element.nativeElement.querySelector('#' + filter);
      let canvasContext = canvasName.getContext('2d');
      this.drawCanvas(canvasContext, filter);
    })
  }

  applyEffect(effect) {
    this.canvasOptions.filter = effect;
  }


  drawCanvas(canvas, filter: string) {

    const size = 120;
    const img = new Image();
    img.addEventListener('load', () => {
      canvas.drawImage(img, 0, 0, size, size);
      this.filters[filter](canvas, size);
    });
    img.src = 'data:image/jpeg;base64,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CmPXXK97LTEzbKvLONTy/T7ddLTKtqxGeE7ZZaXtNkTNFcebLo7eLLstfamuGjSK58PN6+fBe+2t02ppWIjzOX288tObfe+WNeL25nn47ehLDk7dsrTaYkTSi/Jl389+fSlO+8Y1yr1xw2dO9ZurZEl862rWeHtzYW9CK46Z21w8not0aU01tXSkTEXppTLT/8QAGQEBAAMBAQAAAAAAAAAAAAAAAAECAwQF/9oACAEDEAAAAIkQJAAAAhMSEJAAAAAiREgAAAAQkAAAAAAAAAAAEJAAAAAARIAAAAACEgAAAAAhIAAAAAISAAAAACJAtesRAAAAADXTTGkozAAAADfStqUtM55wAAAAt3RRalJTnFaAAAAv35b52pGd80J54AAAF+zLvxxjXG+dLTbbhzAAALdkdVOeNs1arTvtj5s3yAADTp2ttx2rWc752tOuk5OG1uYABv1a12yxisqVuXmYyt1aeVkB0c4dHZfLfGM4tFU0i1rRW1a8oQt7HizBv6DLekZ12M4zra0w0w7uDm69Izrr3+FMFvVth1RXCeik4Vro2nliejpwy6ia1nyVU69WmXYryX3zVz6eeMNu3l1p1IiFYrFkxacdcvQnXxOrr18+kduUzOnPC9ZKunnpy6ac+lZ7ufVPndPZ6fk89+qYq0iK4WvOkxbDPy0Jtp3a4823Lt29nl1X0zLbac/HGuuiHFl2zpetOfp7MuK/Jfq6uBrpZXC+8VtnFZtS+VOvk59o2jX0uby+nljviMd1dZnl6fP7slM9890WefXoyq7e/wA+mGmt8N8cbY6dHPzT11rGWqddMmETn05Ojmpz39DLo83XtwtVSlR26ZWx6Gdo4tsp0556o38zttXoxyvopDThmI0151uueZWb4tMtG/PrFNMunhnqyi8xnSKznM111660452zTW2/KonbbittjSJvGcWmraL60jvwwyupM2qiGsYa7Z51Fs1pba78/N03ilaTGlJrWLdOvBp1xnz0iyqayn1uvxJnn9PHCu2s9PmXjTenFS29ueli9KxMWa60ppfl0rtalufONNNLc9e+HLkmkorpW1q6VvWadfPLW3BdedM+fX1M8sKlK1tnda0S0vz/AP/EADUQAAICAQQBAwMCBAMJAAAAAAIDAQQFABESExQGISIVIzEyQCAkM0E1QkMHEBYlMDRSYYD/2gAIAQEA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';
  }


  updateText() {
    this.canvasOptions.canvas.font = "36px Roboto, Arial, sans-serif";
    this.canvasOptions.canvas.textAlign = 'center';
    this.canvasOptions.canvas.fillStyle = 'white';
    this.canvasOptions.canvas.fillText(this.canvasOptions.text, 150, 280);
  }

  share() {
    this.gifGenerator.generateGifFormCanvas(this.canvasOptions.canvas, 3000)
      .then(blob => {
        const url = URL.createObjectURL(blob);
        console.log(url);
        this.socialSharing.shareViaWhatsApp('texto del mensaje', url, null)
        this.navCtrl.popToRoot();
      })
      .catch(err => console.log(err))

  }

  save() {

    this.gifGenerator.generateGifFormCanvas(this.canvasOptions.canvas, 3000)
      .then(blob => {
        const url = URL.createObjectURL(blob);
        console.log(url);
        this.storage.saveFile(url);
        this.navCtrl.popToRoot();
      })
      .catch(err => console.log(err))

  }

  generatorGif() {
    this.gifGenerator.generateGifFormCanvas(this.canvasOptions.canvas, 3000)
      .then(blob => {
        const url = URL.createObjectURL(blob);
        let link = document.createElement("a");
        link.setAttribute('download', 'yourCapture.gif');
        link.setAttribute('href', url);
        link.click();
        this.navCtrl.popToRoot();
      })
      .catch(err => console.log(err))
  }
}
